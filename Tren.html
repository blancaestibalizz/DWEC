<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="witdh=device-width, initial-scale=1.0">
        <title> Diferencias de los for </title>
    </head>
    <body>
       
        <script>
           /*
            Programa que pida un número que indica por cada pareja de dígitos (empezando por la derecha) los viajeros que han subido y bajado (respectivamente) en la estación de partida y en cada una de las estaciones intermedias hasta llegar a su destino.
            Por ejemplo si se recibe el siguiente número  68573528463604, significa que partió con 4 viajeros, en la siguiente estación subieron 6 y bajaron 3, en la segunda intermedia bajaron 4 y subieron 6…
            Se pide:
            • Control de errores ( NaN, número incorrecto…)
            • ¿Cuántos llegaron al final de trayecto?

            Modificación: el número e viajeros puede ser de más de un dígito.   
           */
           function viajeros(numero) 
           {
            const numeroString = numero.toString();//pasar el numero a string
            let total = 0;//total de pasajeros en el tren

            for (let i = numeroString.length-1; i>=0;i=i-2) //recorre en string de 2 en dos
            {
                const subieron = parseInt(numeroString[i]);//pasarlo a entero
                if (isNaN(subieron))//si no es numero o es nulo
                {
                    console.log("Error, número no válido");
                    break;//sale de la funcion
                }
                
                const bajaron = parseInt(numeroString[i-1]||0); //calcula la gente que ha bajado, si no a bajado nadie se podrán como valor 0
                if (bajaron==null||bajaron<0)//si no es numero o es nulo
                {
                    console.log("Error, número no válido");
                    break;//sale de la funcion
                }
                //como el bucle va de dos en dos se le resta una posición para que lea las bajadas que hay
                total = total+subieron - bajaron;//calculamos el total
        }
        console.log("Viajeros en el tren: " + total);
    }
    const numero = prompt("Número a introducir: ");
    viajeros(numero);
        </script>
    </body>
    </html>